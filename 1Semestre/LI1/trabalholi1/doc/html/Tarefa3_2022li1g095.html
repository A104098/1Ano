<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Tarefa3_2022li1g095</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption empty">&nbsp;</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Sara Azevedo Lopes &lt;a104179@alunos.uminho.pt&gt;<br />Eduarda Mafalda Martins Viera &lt;a104098@alunos.uminho.pt&gt;</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa3_2022li1g095</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>M&#243;dulo para a realiza&#231;&#227;o da Tarefa 3 do projeto de LI1 em 2022/23.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:animaJogo">animaJogo</a> :: <a href="LI12223.html#t:Jogo" title="LI12223">Jogo</a> -&gt; <a href="LI12223.html#t:Jogada" title="LI12223">Jogada</a> -&gt; <a href="LI12223.html#t:Jogo" title="LI12223">Jogo</a></li><li class="src short"><a href="#v:animaMapa">animaMapa</a> :: [(<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>])] -&gt; [(<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>])]</li><li class="src short"><a href="#v:moverObstaculos">moverObstaculos</a> :: Int -&gt; [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>] -&gt; [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>]</li><li class="src short"><a href="#v:moveJogador">moveJogador</a> :: <a href="LI12223.html#t:Jogador" title="LI12223">Jogador</a> -&gt; <a href="LI12223.html#t:Jogada" title="LI12223">Jogada</a> -&gt; Int -&gt; Int -&gt; [(<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>])] -&gt; <a href="LI12223.html#t:Jogador" title="LI12223">Jogador</a></li><li class="src short"><a href="#v:trataExcecoesMove">trataExcecoesMove</a> :: Int -&gt; <a href="LI12223.html#t:Jogador" title="LI12223">Jogador</a> -&gt; (<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>]) -&gt; <a href="LI12223.html#t:Coordenadas" title="LI12223">Coordenadas</a> -&gt; <a href="LI12223.html#t:Jogador" title="LI12223">Jogador</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:animaJogo" class="def">animaJogo</a> <a href="#v:animaJogo" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12223.html#t:Jogo" title="LI12223">Jogo</a></td><td class="doc"><p>Jogador e mapa antes da jogada</p></td></tr><tr><td class="src">-&gt; <a href="LI12223.html#t:Jogada" title="LI12223">Jogada</a></td><td class="doc"><p>Jogada dada como par&#226;metro </p></td></tr><tr><td class="src">-&gt; <a href="LI12223.html#t:Jogo" title="LI12223">Jogo</a></td><td class="doc"><p>Nova posi&#231;&#227;o do jogador e dos obst&#225;culos nos seus respetivos terrenos</p></td></tr></table></div><div class="doc"><ul><li>A fun&#231;&#227;o <code><a href="Tarefa3_2022li1g095.html#v:animaJogo" title="Tarefa3_2022li1g095">animaJogo</a></code> tem como objetivo movimentar obst&#225;culos, de acordo com a velocidade do terreno em que se encontram, e o personagem, de acordo com a jogada efetuada.
Assim, atrav&#233;s de um jogo e de uma jogada, ir&#225; ser obtido um novo jogo com as devidas altera&#231;&#245;es, tanto da posi&#231;&#227;o de jogador como dos obst&#225;culos.</li><li>Para a elabora&#231;&#227;o desta fun&#231;&#227;o foram necess&#225;rias as fun&#231;&#245;es auxiliares <code><a href="Tarefa3_2022li1g095.html#v:animaMapa" title="Tarefa3_2022li1g095">animaMapa</a></code>, <code><a href="Tarefa3_2022li1g095.html#v:moverObstaculos" title="Tarefa3_2022li1g095">moverObstaculos</a></code>, <code><a href="Tarefa3_2022li1g095.html#v:moveJogador" title="Tarefa3_2022li1g095">moveJogador</a></code>e <code><a href="Tarefa3_2022li1g095.html#v:trataExcecoesMove" title="Tarefa3_2022li1g095">trataExcecoesMove</a></code>, cujo prop&#243;sito de cada uma ser&#225; explicado ao longo deste trabalho.</li><li>Assim, observa-se que o novo jogo obtido, respeita as regras de todas as fun&#231;&#245;es auxiliares referidas.</li><li>De seguida, ir&#225; ser demonstrado um exemplo de um jogo gerado a partir de outro e de um jogada. </li></ul><h2>Exemplos</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>animaJogo (Jogo (Jogador (0,0)) (Mapa 3 [(Rio 5, [Tronco, Nenhum, Tronco]),
</code></strong>                                             (Relva, [Arvore, Arvore, Nenhum]),
                                             (Estrada 1, [Nenhum, Carro, Carro])])) Parado
Jogo (Jogador (2,0)) (Mapa 3 [(Rio 5, [Nenhum, Tronco, Tronco]),
                              (Relva, [Arvore, Arvore, Nenhum]), 
                              (Estrada 1, [Carro, Nenhum, Carro])])
Como o Jogador se encontrava em cima de um tronco, apesar de a sua Jogada ter sido Parado, ele acompanhou o movimento do tronco 
at&#233; ao limite do mapa, o qual n&#227;o pode exceder.
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>animaJogo (Jogo (Jogador (0,1)) (Mapa 3 [(Rio (-1), [Nenhum, Tronco, Tronco]),
</code></strong>                                             (Relva, [Nenhum, Nenhum, Arvore]), 
                                             (Estrada 1, [Carro, Nenhum, Carro])])) (Move Direita)
Jogo (Jogador (1,1)) (Mapa 3 [(Rio (-1), [Tronco, Tronco, Nenhum]),
                              (Relva, [Nenhum, Nenhum, Arvore]),
                              (Estrada 1, [Carro, Carro, Nenhum])])
Nesta situa&#231;&#227;o, podemos observar que o jogador moveu-se conforme a sua jogada e que os obst&#225;culos tamb&#233;m foram animados.
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>animaJogo (Jogo (Jogador (1,1)) (Mapa 3 [(Rio (-1), [Tronco, Nenhum, Tronco]),
</code></strong>                                             (Relva, [Nenhum, Nenhum, Arvore]), 
                                             (Relva, [Nenhum, Arvore, Nenhum])])) (Move Baixo)
Jogo (Jogador (1,1)) (Mapa 3 [(Rio (-1),[Nenhum, Tronco, Tronco]),
                              (Relva ,[Nenhum, Nenhum, Arvore]),
                              (Relva ,[Nenhum, Arvore, Nenhum])])
Neste exemplo, o jogador manteve a sua posi&#231;&#227;o, uma vez que n&#227;o conseguia ir para baixo, devido &#224; posi&#231;&#227;o inferior estar ocupada 
por uma &#225;rvore.
No entanto, os obst&#225;culos foram animados.     
</pre></div></div><div class="top"><p class="src"><a id="v:animaMapa" class="def">animaMapa</a> <a href="#v:animaMapa" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [(<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>])]</td><td class="doc"><p>Terrenos e os seus obst&#225;culos por animar</p></td></tr><tr><td class="src">-&gt; [(<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>])]</td><td class="doc"><p>Terrenos e os seus obst&#225;culos depois de animados</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa3_2022li1g095.html#v:animaMapa" title="Tarefa3_2022li1g095">animaMapa</a></code> &#233; respons&#225;vel por animar os obst&#225;culos, nos seus respetivos terrenos. </p><h2>Exemplos</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>animaMapa [(Rio (-1), [Tronco, Nenhum, Tronco]),
</code></strong>               (Estrada 2, [Carro, Carro, Nenhum])]
[(Rio (-1), [Nenhum, Tronco, Tronco]),
 (Estrada 2, [Carro, Nenhum, Carro])]
Conforme o valor da velocidade e o seu sinal, os obst&#225;culos movem-se em dire&#231;&#245;es e distancias diferentes.
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>animaMapa [(Relva, [Arvore, Nenhum, Arvore]),
</code></strong>               (Estrada 2, [Carro, Carro, Nenhum])]
[(Relva,[Arvore,Nenhum,Arvore]),
 (Estrada 2,[Carro,Nenhum,Carro])]
 Re&#231;alva-se que ao contr&#225;rio dos troncos e dos carros, as &#225;rvores permanecem est&#225;ticas.
</pre></div></div><div class="top"><p class="src"><a id="v:moverObstaculos" class="def">moverObstaculos</a> <a href="#v:moverObstaculos" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>Velocidade </p></td></tr><tr><td class="src">-&gt; [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>]</td><td class="doc"><p>Lista por animar</p></td></tr><tr><td class="src">-&gt; [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>]</td><td class="doc"><p>Lista animada</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa3_2022li1g095.html#v:moverObstaculos" title="Tarefa3_2022li1g095">moverObstaculos</a></code> permite que numa estrada ou rio com velocidade v, os obst&#225;culos se movam determinado valor de unidades, sendo este obtido pelo 
m&#243;dulo da velocidade. Estes podem mover-se para a direita se a velocidade for positiva e para a esquerda se esta for negativa. Adicionalmente, esta fun&#231;&#227;o
tamb&#233;m leva a que, quando os obst&#225;culos de uma linha se deslocam e desaparecem por um dos lados do mapa, voltem a reaparecer pelo outro lado.</p><h2>Exemplos</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>moverObstaculos 1 [Carro, Carro, Nenhum, Nenhum, Nenhum, Nenhum]
</code></strong>[Nenhum, Carro, Carro, Nenhum, Nenhum, Nenhum]
Como o m&#243;dulo da velocidade &#233; 1, ent&#227;o os obst&#225;culos moveram 1 unidade e como a velocidade &#233; positiva, o movimento efetuado &#233; 
para a direita.
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>moverObstaculos (-3) [Tronco, Tronco, Nenhum, Nenhum, Nenhum, Nenhum]
</code></strong>[Nenhum, Nenhum, Nenhum, Tronco, Tronco, Nenhum]
Como o m&#243;dulo da velocidade &#233; 3, ent&#227;o os obst&#225;culos moveram 3 unidades e como a velocidade &#233; negativa, o movimento efetuado &#233;
para a esquerda.
</pre></div></div><div class="top"><p class="src"><a id="v:moveJogador" class="def">moveJogador</a> <a href="#v:moveJogador" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12223.html#t:Jogador" title="LI12223">Jogador</a></td><td class="doc"><p>Jogador e as suas coordenadas</p></td></tr><tr><td class="src">-&gt; <a href="LI12223.html#t:Jogada" title="LI12223">Jogada</a></td><td class="doc"><p>Jogada a efetuar </p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Largura</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Comprimento</p></td></tr><tr><td class="src">-&gt; [(<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>])]</td><td class="doc"><p>Local onde ocorre o movimento</p></td></tr><tr><td class="src">-&gt; <a href="LI12223.html#t:Jogador" title="LI12223">Jogador</a></td><td class="doc"><p>Jogador e as suas novas coordenadas </p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa3_2022li1g095.html#v:moveJogador" title="Tarefa3_2022li1g095">moveJogador</a></code> permite que o jogador se desloque em um mapa atrav&#233;s das jogadas, como por exemplo, a jogada <em>Move Cima</em> faz o jogador mover uma
unidade para cima. Adicionalmente, esta fun&#231;&#227;o n&#227;o permite que o jogado saia do mapa atrav&#233;s dos seus movimentos.</p><h2>Exemplos</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>moveJogador (Jogador (1,1)) (Move Direita) 4 3 [(Rio 2, [Tronco, Nenhum, Nenhum, Tronco]),
</code></strong>                                                    (Relva, [Arvore, Nenhum, Nenhum, Nenhum]), 
                                                    (Estrada (-1), [Carro, Carro, Carro, Nenhum])]
Jogador (2,1)
A jogada Move Direita fez o jogador mover 1 unidade para a direita.
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>moveJogador (Jogador (1,0)) (Move Cima) 4 3 [(Rio 2, [Tronco, Nenhum, Nenhum, Tronco]),
</code></strong>                                                 (Relva, [Arvore, Nenhum, Nenhum, Nenhum]), 
                                                 (Estrada (-1), [Carro, Carro, Carro, Nenhum])]
Jogador (1,0)  
Como o jogador j&#225; estava no limite superior do mapa, a jogada Move Cima n&#227;o tem qualquer efeito.
</pre></div></div><div class="top"><p class="src"><a id="v:trataExcecoesMove" class="def">trataExcecoesMove</a> <a href="#v:trataExcecoesMove" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>Largura</p></td></tr><tr><td class="src">-&gt; <a href="LI12223.html#t:Jogador" title="LI12223">Jogador</a></td><td class="doc"><p>Jogador e as suas coordenadas </p></td></tr><tr><td class="src">-&gt; (<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>])</td><td class="doc"><p>Local onde ocorre o movimento</p></td></tr><tr><td class="src">-&gt; <a href="LI12223.html#t:Coordenadas" title="LI12223">Coordenadas</a></td><td class="doc"><p>Posi&#231;&#227;o inicial do jogador</p></td></tr><tr><td class="src">-&gt; <a href="LI12223.html#t:Jogador" title="LI12223">Jogador</a></td><td class="doc"><p>Jogador e as suas novas coordenadas</p></td></tr></table></div><div class="doc"><p>Para a elabora&#231;&#227;o da fun&#231;&#227;o <code><a href="Tarefa3_2022li1g095.html#v:moveJogador" title="Tarefa3_2022li1g095">moveJogador</a></code>, foi necess&#225;rio o desenvolvimento da fun&#231;&#227;o auxiliar <code><a href="Tarefa3_2022li1g095.html#v:trataExcecoesMove" title="Tarefa3_2022li1g095">trataExcecoesMove</a></code>.
Esta permite o tratamento de casos particulares. Um desses casos ocorre quando um jogador acompanha o movimento de um tronco, por estar em cima dele, 
at&#233; atingir o limite da largura do mapa, tanto &#224; direita como &#224; esquerda. Quando o atinge, &#224; coordenada da largura &#233; atribu&#237;do o valor de 0 ou subtrai-se 
&#224; largura 1 unidade, caso ele se encontre &#224; direita ou &#224; esquerda, respetivamente. O outro caso que esta fun&#231;&#227;o tamb&#233;m trata, &#233; quando o movimento do Jogador
o leva contra uma &#225;rvore. Quando isto ocorre, o Jogador manter&#225; as coordenadas que j&#225; possuia antes da jogada.  </p><h2>Exemplos</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>trataExcecoesMove 6 (Jogador(2,0)) (Rio 4, [Tronco, Tronco, Tronco, Tronco, Nenhum, Nenhum]) (0,0)
</code></strong>Jogador (5,0)
</pre><p>Nesta situa&#231;&#227;o, o jogador deveria ter permanecido nas coordenadas (6,0), tal acontecimento n&#227;o &#233; permitido por esta fun&#231;&#227;o, pois esta impede que o Jogador saia do mapa.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>trataExcecoesMove 6 (Jogador(3,0)) (Relva, [Arvore, Arvore, Nenhum, Arvore, Arvore, Arvore]) (2,0)
</code></strong>Jogador (2,0)
</pre><p>Nesta situa&#231;&#227;o, o jogador tentou-se mover para uma posi&#231;&#227;o ocupada por uma &#225;rvore, sendo que esta fun&#231;&#227;o impediu que o conseguisse, mantendo o jogador na posi&#231;&#227;o anterior a essa jogada.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.23.0</p></div></body></html>